check check ----------


ennv
a="                       "
realSHELL $> env

a="f ff f""   ""   jh"
realSHELL $> export


realSHELL $> echo $x
pk
realSHELL $> echo $x | cat -e
cat: standard output: Bad file descriptor





HANDEL the fd leaks










realSHELL $> chmod +x ls
realSHELL $> ../minishell/ls
../minishell/ls: command not found


realSHELL $> touch ls
realSHELL $> ./ls
./ls: command not found
realSHELL $> $?
127: command not found
realSHELL $> 











realSHELL $> echo $$$$$$$$$$$$$$$$$$$$$$$$$$$2a
=================================================================
==243353==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x603000000e6c at pc 0x0000004cf868 bp 0x7ffc82cbbe70 sp 0x7ffc82cbbe68
WRITE of size 1 at 0x603000000e6c thread T0
    #0 0x4cf867 in take_token /home







$> echo $$$$$$$$a
this is  a |8| and i 9
this is  a 8 and i 9
a
realSHELL $> echo $$$$$$$$$$444a
this is  a |13| and i 14
this is  a 13 and i 14
444a
realSHELL $> echo $$$$$$$$$$4444444444444a
this is  a |23| and i 24
this is  a 23 and i 24
4444444444444a
realSHELL $> echo $$$$$$$$$$444444444444444a
this is  a |25| and i 26
this is  a 25 and i 26
minishell: malloc.c:2617: sysmalloc: Assertion `(old_top == initial_top (av) && old_size == 0) || ((unsigned long) (old_size) >= MINSIZE && prev_inuse (old_top) && ((unsigned long) old_end & (pagesize - 1)) == 0)' failed.
rlamlaik@e1r5p6:~/Desktop/realshell$ 



NEED TO HANDE THE INVALID RREAAD







realSHELL $> export $a=$a
this is the $a="$a" 
bash: export: `': not a valid identifier
realSHELL $> 
exit
bash-5.2$ make
cc  -Wall -Werror -Wextra  -c buildin/ft_export.c -o buildin/ft_export.o
cc -lreadline -Wall -Werror -Wextra  envr.o expand.o ft_strjoin.o env_heloper.o exec_ultils.o exec_ulitls2.o exec_utils3.o expand_token.o parce.o parse_helper.o execution.o expand_heper.o ft_split_h.o ft_strncmp.o handle_signal.o tokens.o ft_itoa.o syntax.o expand_2.o ft_heredoc.o ft_strchr.o ft_strndup.o syntax_imbg.o env_null_helper.o expand_3.o ft_strdup.o ft_strrchr.o my_malloc.o utils.o buildin/ft_cd.o buildin/ft_echo.o buildin/ft_env.o buildin/ft_export.o buildin/ft_pwd.o buildin/ft_unset.o buildin/ft_exit.o -o minishell
bash-5.2$ ./minishell 
realSHELL $> export a="b c d"
this isnthe aref a=b c d
realSHELL $> export $a="$a"
this is the $a=""$a"" 
this isnthe aref b
this isnthe aref c
this isnthe aref d=b
this isnthe aref c
this isnthe aref d
realSHELL $> export $a=$a
this is the $a="$a" 
this isnthe aref b
this isnthe aref c
this isnthe aref d=b c d
realSHELL $> unset a b c d
realSHELL $> export a="b c d"
this isnthe aref a=b c d
realSHELL $> export
SHELL=/bin/sh
SESSION_MANAGER=local/e2r3p12.1337.ma:@/tmp/.ICE-unix/2466357,unix/e2r3p12.1337.ma:/tmp/.ICE-unix/2466357
__EGL_EXTERNAL_PLATFORM_CONFIG_DIRS=/etc/egl/egl_external_platform.d:/usr/lib/x86_64-linux-gnu/GL/egl/egl_external_platform.d:/usr/share/egl/egl_external_platform.d
QT_ACCESSIBILITY=1
COLORTERM=truecolor
XDG_CONFIG_DIRS=/app/etc/xdg:/etc/xdg
SSH_AGENT_LAUNCHER=gnome-keyring
XDG_SESSION_PATH=/org/freedesktop/DisplayManager/Session77
XDG_MENU_PREFIX=gnome-
TERM_PROGRAM_VERSION=1.100.2
GNOME_DESKTOP_SESSION_ID=this-is-deprecated
GTK_IM_MODULE=ibus
SSH_AUTH_SOCK=/run/flatpak/ssh-auth
XDG_DATA_HOME=/home/rlamlaik/.var/app/com.visualstudio.code/data
XDG_CONFIG_HOME=/home/rlamlaik/.var/app/com.visualstudio.code/config
XCURSOR_PATH=/run/host/user-share/icons:/run/host/share/icons
XMODIFIERS=@im=ibus
DESKTOP_SESSION=ubuntu
ZYPAK_LIB=/app/bin/../lib
FLATPAK_ID=com.visualstudio.code
FT_HOOK_NAME=login-user
GTK_MODULES=gail:atk-bridge
FT_HOOK_PATHNAME=login-user.d
PWD=/home/rlamlaik/Desktop/realshell
KRB5CCNAME=FILE:/tmp/krb5cc_104325_S4Ng1R
ALSA_CONFIG_PATH=/usr/share/alsa/alsa-flatpak.conf
XDG_SESSION_DESKTOP=ubuntu
LOGNAME=rlamlaik
XDG_SESSION_TYPE=x11
GPG_AGENT_INFO=/run/user/104325/gnupg/S.gpg-agent:0:1
SYSTEMD_EXEC_PID=2466379
XAUTHORITY=/run/flatpak/Xauthority
VSCODE_GIT_ASKPASS_NODE=/app/extra/vscode/code
XDG_GREETER_DATA_DIR=/var/lib/lightdm-data/rlamlaik
container=flatpak
GJS_DEBUG_TOPICS=JS ERROR;JS LOG
GI_TYPELIB_PATH=/app/lib/girepository-1.0
HOME=/home/rlamlaik
IM_CONFIG_PHASE=1
LANG=en_US.UTF-8
XDG_CURRENT_DESKTOP=Unity
SBX_CHROME_API_RQ=1
AT_SPI_BUS_ADDRESS=unix:path=/run/flatpak/at-spi-bus
GIT_ASKPASS=/app/extra/vscode/resources/app/extensions/git/dist/askpass.sh
XDG_SEAT_PATH=/org/freedesktop/DisplayManager/Seat0
PULSE_CLIENTCONFIG=/run/flatpak/pulse/config
INVOCATION_ID=2d44726a00384266bb1797b73854b428
MANAGERPID=2465796
CHROME_DESKTOP=code.desktop
XDG_CACHE_HOME=/home/rlamlaik/.var/app/com.visualstudio.code/cache
GJS_DEBUG_OUTPUT=stderr
VSCODE_GIT_ASKPASS_EXTRA_ARGS=
XDG_SESSION_CLASS=user
TERM=xterm-256color
ZYPAK_ZYGOTE_STRATEGY_SPAWN=1
LIBVIRT_DEFAULT_URI=qemu:///system
USER=rlamlaik
SANDBOX_LD_LIBRARY_PATH=/app/lib
VSCODE_GIT_IPC_HANDLE=/run/user/104325/vscode-git-695ccba9da.sock
NPM_CONFIG_GLOBALCONFIG=/app/etc/npmrc
DISPLAY=:99.0
SHLVL=1
FLATPAK_SANDBOX_DIR=/home/rlamlaik/.var/app/com.visualstudio.code/sandbox
QT_IM_MODULE=ibus
ZYPAK_BIN=/app/bin
LD_LIBRARY_PATH=/app/lib
XDG_RUNTIME_DIR=/run/user/104325
DBUS_SYSTEM_BUS_ADDRESS=unix:path=/run/dbus/system_bus_socket
DOCKER_HOST=unix:///run/user/104325/docker.sock
GST_PLUGIN_SYSTEM_PATH=/app/lib/gstreamer-1.0:/usr/lib/extensions/gstreamer-1.0:/usr/lib/x86_64-linux-gnu/gstreamer-1.0
VSCODE_GIT_ASKPASS_MAIN=/app/extra/vscode/resources/app/extensions/git/dist/askpass-main.js
JOURNAL_STREAM=8:9453560
XDG_DATA_DIRS=/app/share:/usr/share:/usr/share/runtime/share:/run/host/user-share:/run/host/share
GDK_BACKEND=x11
PATH=/app/bin:/app/bin:/app/bin:/usr/bin:/home/rlamlaik/.var/app/com.visualstudio.code/data/node_modules/bin
GDMSESSION=ubuntu
PYTHONUSERBASE=/var/data/python
ORIGINAL_XDG_CURRENT_DESKTOP=ubuntu:GNOME
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/flatpak/bus
ALSA_CONFIG_DIR=/usr/share/alsa
PULSE_SERVER=unix:/run/flatpak/pulse/native
GIO_LAUNCHED_DESKTOP_FILE_PID=2466936
GIO_LAUNCHED_DESKTOP_FILE=/var/lib/flatpak/exports/share/applications/com.visualstudio.code.desktop
TERM_PROGRAM=vscode
_=./minishell
a=b c d
realSHELL $> export $a=$a
this is the $a="$a" 
this isnthe aref b
this isnthe aref c
this isnthe aref d=b c d
realSHELL $> export
SHELL=/bin/sh
SESSION_MANAGER=local/e2r3p12.1337.ma:@/tmp/.ICE-unix/2466357,unix/e2r3p12.1337.ma:/tmp/.ICE-unix/2466357
__EGL_EXTERNAL_PLATFORM_CONFIG_DIRS=/etc/egl/egl_external_platform.d:/usr/lib/x86_64-linux-gnu/GL/egl/egl_external_platform.d:/usr/share/egl/egl_external_platform.d
QT_ACCESSIBILITY=1
COLORTERM=truecolor
XDG_CONFIG_DIRS=/app/etc/xdg:/etc/xdg
SSH_AGENT_LAUNCHER=gnome-keyring
XDG_SESSION_PATH=/org/freedesktop/DisplayManager/Session77
XDG_MENU_PREFIX=gnome-
TERM_PROGRAM_VERSION=1.100.2
GNOME_DESKTOP_SESSION_ID=this-is-deprecated
GTK_IM_MODULE=ibus
SSH_AUTH_SOCK=/run/flatpak/ssh-auth
XDG_DATA_HOME=/home/rlamlaik/.var/app/com.visualstudio.code/data
XDG_CONFIG_HOME=/home/rlamlaik/.var/app/com.visualstudio.code/config
XCURSOR_PATH=/run/host/user-share/icons:/run/host/share/icons
XMODIFIERS=@im=ibus
DESKTOP_SESSION=ubuntu
ZYPAK_LIB=/app/bin/../lib
FLATPAK_ID=com.visualstudio.code
FT_HOOK_NAME=login-user
GTK_MODULES=gail:atk-bridge
FT_HOOK_PATHNAME=login-user.d
PWD=/home/rlamlaik/Desktop/realshell
KRB5CCNAME=FILE:/tmp/krb5cc_104325_S4Ng1R
ALSA_CONFIG_PATH=/usr/share/alsa/alsa-flatpak.conf
XDG_SESSION_DESKTOP=ubuntu
LOGNAME=rlamlaik
XDG_SESSION_TYPE=x11
GPG_AGENT_INFO=/run/user/104325/gnupg/S.gpg-agent:0:1
SYSTEMD_EXEC_PID=2466379
XAUTHORITY=/run/flatpak/Xauthority
VSCODE_GIT_ASKPASS_NODE=/app/extra/vscode/code
XDG_GREETER_DATA_DIR=/var/lib/lightdm-data/rlamlaik
container=flatpak
GJS_DEBUG_TOPICS=JS ERROR;JS LOG
GI_TYPELIB_PATH=/app/lib/girepository-1.0
HOME=/home/rlamlaik
IM_CONFIG_PHASE=1
LANG=en_US.UTF-8
XDG_CURRENT_DESKTOP=Unity
SBX_CHROME_API_RQ=1
AT_SPI_BUS_ADDRESS=unix:path=/run/flatpak/at-spi-bus
GIT_ASKPASS=/app/extra/vscode/resources/app/extensions/git/dist/askpass.sh
XDG_SEAT_PATH=/org/freedesktop/DisplayManager/Seat0
PULSE_CLIENTCONFIG=/run/flatpak/pulse/config
INVOCATION_ID=2d44726a00384266bb1797b73854b428
MANAGERPID=2465796
CHROME_DESKTOP=code.desktop
XDG_CACHE_HOME=/home/rlamlaik/.var/app/com.visualstudio.code/cache
GJS_DEBUG_OUTPUT=stderr
VSCODE_GIT_ASKPASS_EXTRA_ARGS=
XDG_SESSION_CLASS=user
TERM=xterm-256color
ZYPAK_ZYGOTE_STRATEGY_SPAWN=1
LIBVIRT_DEFAULT_URI=qemu:///system
USER=rlamlaik
SANDBOX_LD_LIBRARY_PATH=/app/lib
VSCODE_GIT_IPC_HANDLE=/run/user/104325/vscode-git-695ccba9da.sock
NPM_CONFIG_GLOBALCONFIG=/app/etc/npmrc
DISPLAY=:99.0
SHLVL=1
FLATPAK_SANDBOX_DIR=/home/rlamlaik/.var/app/com.visualstudio.code/sandbox
QT_IM_MODULE=ibus
ZYPAK_BIN=/app/bin
LD_LIBRARY_PATH=/app/lib
XDG_RUNTIME_DIR=/run/user/104325
DBUS_SYSTEM_BUS_ADDRESS=unix:path=/run/dbus/system_bus_socket
DOCKER_HOST=unix:///run/user/104325/docker.sock
GST_PLUGIN_SYSTEM_PATH=/app/lib/gstreamer-1.0:/usr/lib/extensions/gstreamer-1.0:/usr/lib/x86_64-linux-gnu/gstreamer-1.0
VSCODE_GIT_ASKPASS_MAIN=/app/extra/vscode/resources/app/extensions/git/dist/askpass-main.js
JOURNAL_STREAM=8:9453560
XDG_DATA_DIRS=/app/share:/usr/share:/usr/share/runtime/share:/run/host/user-share:/run/host/share
GDK_BACKEND=x11
PATH=/app/bin:/app/bin:/app/bin:/usr/bin:/home/rlamlaik/.var/app/com.visualstudio.code/data/node_modules/bin
GDMSESSION=ubuntu
PYTHONUSERBASE=/var/data/python
ORIGINAL_XDG_CURRENT_DESKTOP=ubuntu:GNOME
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/flatpak/bus
ALSA_CONFIG_DIR=/usr/share/alsa
PULSE_SERVER=unix:/run/flatpak/pulse/native
GIO_LAUNCHED_DESKTOP_FILE_PID=2466936
GIO_LAUNCHED_DESKTOP_FILE=/var/lib/flatpak/exports/share/applications/com.visualstudio.code.desktop
TERM_PROGRAM=vscode
_=./minishell
a=b c d
b
c
d=b c d


realSHELL $> export a
this isnthe aref a
realSHELL $> export d=$a
this isnthe aref 
minihel: export: `': not a valid identifier
realSHELL $> export d=
this isnthe aref d=
realSHELL $> 
e=""

HELL $> export a++=m
this isnthe aref a++=m
realSHELL $> 

t a valid identifier
rlamlaik@e1r5p6:~/Desktop/realshell$ export ""
bash: export: `': not a valid identifier
rlamlaik@e1r5p6:~/Desktop/realshell$ 



ls: command not found
realSHELL $> export PATH 
this isnthe aref PATH
realSHELL $> env
PATH=fdhfjfsj
realSHELL $> unset PATh
realSHELL $> unset PATH
realSHELL $> export PATH 
this isnthe aref PATH
realSHELL $> lks
lks: command not found
realSHELL $> ls
ls: command not found
\realSHELL $> ls
ls: command not found
realSHELL $> env
PATH=fdhfjfsj
realSHELL $> export
declare -x OLDPWD
declare -x PATH="fdhfjfsj"
declare -x PATH
declare -x PATH
realSHELL $> unset PATH
realSHELL $> env
PATH=fdhfjfsj
realSHELL $> expotr
expotr: command not found
realSHELL $> export
declare -x OLDPWD
declare -x PATH="fdhfjfsj"
declare -x PATH
declare -x PATH
realSHELL $> 


